<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AVERAGE</title>
</head>
<body>

    <script>

    const students = [
        {
            name: 'John',
            notes: [1, 20, 18, 19, 12]
        },
        {
            name: 'Jane',
            notes: [17, 18, 20, 13, 15]
        },
        {
            name: 'Sophie',
            notes: [17, 12, 14, 15, 13]
        },
        {
            name: 'Marc',
            notes: [2, 3, 5, 8, 9]
        },
        {
            name: 'Manon',
            notes: [18, 17, 18, 19, 12]
        }
    ]
    
    const moyenne = (notes) => {
        let sum = 0
        for (let note of notes) {
            sum = sum + note
        }
        return sum / notes.length
    }

    const compareStudent = (a, b) => {
        return b.moyenne - a.moyenne
    }

    for (let student of students) {
        student.moyenne = moyenne(student.notes)
        student.worst = Math.min(...student.notes)
        student.best = Math.max(...student.notes)
    }

    students.sort(compareStudent)

    const formatStudent = (student) => {
        return `${student.name} avec une moyenne de ${student.moyenne}, meilleur note (${student.best}), pire note (${student.worst})` 
    }

    console.log(`Top 3 Ã©tudiant 
    1: ${formatStudent(students[0])}        
    2: ${formatStudent(students[1])} 
    3: ${formatStudent(students[2])} 
    `)

    </script>


</body>
</html>
 
    <!-- let final = [
        {
            student : [],
            moyenne : []
        }


    ];
    let total = 0;

    const students = [
        {
            name: 'John',
            notes: [1, 20, 18, 19, 12]},
        {
            name: 'Jane',
            notes: [17, 18, 20, 13, 15]},
        {
            name: 'Sophie',
            notes: [17, 12, 14, 15, 13]},
        {
            name: 'Marc',
            notes: [2, 3, 5, 8, 9]},
        {
            name: 'Manon',
            notes: [18, 17, 18, 19, 12]}]
            
        for (var i = 0; i < students.length; i++) {
            for (let j = 0; j < students[1].notes.length; j++) {
                total += students[i].notes[j];
            }
            final[].moyenne.push(students[i].name);
            console.log(final);
            final[i].moyenne.push(total/students[i].notes.length);
            total = 0;
        } -->
